

# 通信系统架构

## 网络架构

### 局域网

局域网通常由计算机、交换机、路由器组成。

#### 架构风格

* 单核心架构
* 双核心架构
* 环型架构
* 层次局域网架构

### 广域网

广域网属于多级网络，通常由骨干网、分布网、接入网组成。在网络规模较小时，可仅由骨干网和接入网组成。

#### 架构风格

* 单核心广域网
* 双核心广域网
* 环型广域网
* 半冗余广域网
* 对等子域广域网
* 层次子域广域网

### 移动通信网

5GS在为移动终端用户UE提供服务时通常需要DN网络，如Internet、IMS、专用网络等互连来为UE提供所需的业务。

从UE通过5GS接入DN的方式来说，存在两种模式，即透明模式和非透明模式。



## 存储网络架构

SAN和NAS都可以用于集中管理存储，并供多主机（服务器）共享存储。

### 直连式存储 DAS

存储设备直接通过SCSI/SATA/SAS等协议连接到服务器

**特点：**

	* 简单、低成本，但扩展性差
	* 存储资源无法共享，利用率低

**应用场景：**单击应用、本地开发环境

### 网络附加存储 NAS

通常是基于以太网（NSF/SMB协议）提供文件级存储，存储设备作为网络节点共享

**特点：**

* 文件级共享，易于管理，适合多客户端访问
* 性能受网络带宽影响，通常低于SAN

### 存储区域网络 SAN

通过专用高速网络（如FC、iSCSI、NVMe over Fabrics）将存储设备与服务器连接，形成独立的存储网络。

- **FC SAN**：基于光纤通道（Fibre Channel），高性能、低延迟，但成本高。
- **IP SAN**：基于iSCSI协议，通过以太网传输，成本低，适合中小企业。
- **NVMe-oF**：基于NVMe协议，支持RDMA（如RoCE、InfiniBand），适用于高性能场景。

**特点**：

- 块级存储，支持高并发、低延迟访问。
- 需要专用硬件（如HBA卡、光纤交换机）。

## 软件定义网络架构 SDN

一种新型网络创新架构，核心是将网络设备的**控制面**与**数据面**分离开来，从而实现了网络流量的灵活控制。

<font color=red>**应用平面**</font> ：在网络上运行的应用，用户无需关系底层细节就可以编程、部署应用。

<font color=red>**控制平面**</font> ：包含了SDN控制器，掌握全局网络信息，是网络的"大脑"。

<font color=red>**数据平面**</font> ：交换机、路由器等物理硬件，单纯负责数据的转发。



## 网络构建关键技术

### SDN技术

* 控制平面技术
* 数据平面技术
* 转发规则一致性更新技术

### 高可用

* 网络部件（设备和线路）
* 网络连接模型
* 网络协议及配置

### IPv4和IPv6组合融网

* <font color=red>双协议栈</font> 
* <font color=red>隧道技术</font> 
* <font color=red>网络地址翻译技术</font> 

## 网络构建和设计方法

### 网络需求获取

* 业务需求
* 用户需求
* 应用需求
* 计算机平台需求
* 网络需求

### 网络技术遴选及设计

* 局域网技术遴选
* 广域网技术遴选
* 地址规划模型
* 路由协议选择
* 层次化网络模型设计
* 网络高可用设计方法



## 网络其他设计

### 网络安全

* 防火墙部署
* VPN技术
* 访问控制技术
* 网络安全隔离
* 网络安全协议
* 网络安全审计

### 绿色网络

* 标准化
* 集成化
* 虚拟化
* 智能化
* 权限性
* 可靠性



## 层次化网络设计

<font color=green>核心层：</font> 主要是高速数据交换，实现高速数据传输、出口路由、常用冗余机制。

<font color=green>汇聚层：</font> 网络访问策略控制、数据包处理和过滤、策略路由、广播定义域、寻址。

<font color=green>接入层：</font> 主要是针对用户端，实现用户接入、计费管理、MAC地址认证、MAC地址过滤、收集用户信息。

## 高可用网络构建案例

⽹络可靠性通常是由组成⽹络的各功能部件稳定提供连续性服务保证的。

提升每个部件稳定性即可提升整个网络的可靠性；而网络可用性，通常需要构成网络的各部件相互协同，冗余备份等来提供的。

<img src="https://raw.githubusercontent.com/zpfate/ImageService/master/uPic/1744962155921" alt="image-20250418154233529" style="zoom:50%;" />



### 接入层

* 使用冗余引擎和冗余电源获得系统级冗余，为关键用户群提供高可靠性
* 与具备冗余系统的汇聚测采用双归属连接，获得默认网关冗余，支持在汇聚层的贮备交换机间快速实现故障切换
* 通过链路提供带宽利用率，同时降低复杂度
* 配置802.1x，动态APR检查以及IP源地址保护等功能增加安全性，有效防止非法访问

### 汇聚层

汇聚层到核心层采用OSPF等动态路由协议实现路由层面高可用保障。典型连接有两种方式：

* <font color=red>三角形连接方式：从汇聚层到核心层具有冗余链路和转发路径</font> 

* 矩形连接方式：组网模型二维矩形连接方式，从汇聚层到核心层为非全冗余链路，

  当主链路发生故障时，需要通过路由协议计算获得汇聚到核心的其他路径



三角形连接方式优缺点：

**优点：**故障收敛时间较小

**缺点：**占用更多的设备端口，建网成本较高



汇聚层高可用性通过两条等成本路径来提供，包括从汇聚层到核心以及从接入层到汇聚层的链路，可以在链路节或发生故障时提供确定性的快速收敛

当冗余路径存在时，故障切换主要以来硬件链路故障检测，而不是基于定时器的软件故障检测。

汇聚层使用<font color=red>网关负载平衡协议（GLBP）、热备份路由器协议（HSRP）或虚拟路由器冗余协议（VRRP）提供缺省的网关冗余</font>。当个汇聚层节点发生故障或被拆除，不会影响端点与缺省网关的连接。



### 核心层

* 核心层设备是网络的枢纽，需要能提供高速数据交换能力和极高持久性，从系统冗余角度，应考虑部署双核心或多核心设备，以主备或负荷分担方式工作。
* 就单台设备而言，应选用交换性能和可靠性高的设备，支持主控，电源冗余设计，具备分布式转发特征，并降低设备配置复杂度，减少出错几率
* 尽量在核心层采用冗余的点到点L3互连，可提供最快速和确定的收敛结果。



